---
chapter: 2
title: "2.2.3 커스텀 명령, 이미지, 대화연결, Agent 사용법"
date: 2024-11-08
---

# 2.2.3 커스텀 명령, 이미지, 대화연결, Agent 사용법

Claude Code가 조금 익숙해지셨다면 아래와 같은 명령어로 Claude Code를 더 풍부하게 할 수 있습니다.

# 1. 커스텀 명령어

아래 폴더 안에 여러분이 사용하고 싶은 명령어를 `명령어.md` 파일로 넣으면 `/명령어`가 가능하게 됩니다.

```
.claude/commands/
```

예를 들어, 저 폴더 아래 `hojun.md` 파일을 만들면 `/hojun`이라는 명령어가 가능한 것입니다. 여기 안에 여러분이 이 명령어에 대한 설명을 넣어 주시면 됩니다. 예를 들어, 아래와 같은 텍스트를 넣을 수 있습니다.

```
지금까지 작성한 코드를 한 번 리뷰하고 예상되는 문제점을 요약 정리해줘.
```

추가로 아래와 같이옵션 값을 전달 할 수도 있습니다.

```
지금까지 작성한 코드를 $ARGUMENTS 번 리뷰하고 예상되는 문제점을 요약 정리해줘.
```

그러면 명령어로 아래와 같이 지시할 수 있습니다.

```
/hojun 3
```

# 2. 이전 대화 연결

claude라는 명령어를 실행할 때마다 새로운 대화가 시작됩니다. 이 대화는 이전 대화와 연결되어 있지 않습니다. 따라서 이어서 대화하고 싶다면 아래처럼 이전 대화와 연결하는 작업이 필요합니다.

## 2.1 목록에서 선택

아래 명령어를 사용하시면 이전에 했던 목록을 불러오실 수 있습니다.

```
claude --resume
```

## 2.2 이전 대화에서 바로 시작

아래 명령어를 통해 이전 대화에서 바로 시작할 수 있습니다. 다만 이 작업은 프롬프트가 길어지게 됩니다. 오히려 `/clear`로 주기적으로 프롬프트를 비우는 것을 권합니다.

```
claude --continue
```

# 3. 이미지

## 3.1 드롭다운 지원

이미지는 드롭다운이 지원됩니다. 다만 그것이 '텍스트'형태로 들어가기 때문에 여러분은 이미지가 들어가는 것이라 생각하지 않으실 수 있습니다. 아래처럼 파일로 있는 이미지를 드롭다운으로 터미널에 옮기면 제대로 읽는 것을 확인할 수 있습니다.

- VSCode에서는 경로명으로 지원

![2.2.2-1](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image.png)

2.2.2-1

![2.2.2-2](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-1.png)

2.2.2-2

- 순수 터미널에서는 아래와 같이 지원. 이렇게 되어 있어도 잘 들어가는 것이 맞으니 프롬프트를 그대로 사용하시면 됩니다.

![2.2.2-3](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-2.png)

2.2.2-3

![2.2.2-4](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-3.png)

2.2.2-4

다만 파일로 있는 상태가 아니라 이미지를 캡쳐해서 붙여넣기를 하는 것은 안됩니다.

# 4. Agent

25년 7월 말에 업데이트된 내용입니다. 아직도 업데이트가 계속 이뤄지고 있으므로 변경될 가능성이 있는 기능입니다. 이러한 Agent가 강력한 이유는 단지 역할 기반이 아니기 때문입니다. 실제 여러 논문을 살펴보면 이러한 역할 기반의 기능 수행이 오히려 성능이 떨어지는 결과를 주기도 합니다.

:::div{.callout}
아래 연구는 이러한 역할 기반에 프롬프트가 오히려 실제 도움을 주지 못했다는 논문입니다.

[When "A Helpful Assistant" Is Not Really Helpful: Personas in System Prompts Do Not Improve Performances of Large Language Models](https://arxiv.org/html/2311.10054v3)

아래 연구는 긍정과 부정적인 측면이 모두 있다는 연구 결과입니다.

[PromptHub Blog: Role-Prompting: Does Adding Personas to Your Prompts Really Make a Difference?](https://www.prompthub.us/blog/role-prompting-does-adding-personas-to-your-prompts-really-make-a-difference)
:::

그러나 Agent의 기능은 단지 이러한 역할 기반의 프롬프트라고 생각하면 안됩니다. Agent의 가장 강력한 부분은 각 Agent마다 별도의 Context를 유지한다는 점입니다. 길이가 길어지면 제대로 된 답변을 하지 못한다는 사실을 우리는 경험적으로 알고 있습니다. 따라서 이미 실행중인 Context의 글자를 더 작게 유지하는 것이 답변의 질을 높일 수 있습니다. 아래 도표는 관련된 논문입니다.

![95ysyjzs8sie1.png](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/95ysyjzs8sie1.png)

:::div{.callout}
관련 논문 링크입니다.

[arxiv.org](https://arxiv.org/pdf/2502.05167)
:::

Claude Code의 Agent사용을 하려면 `/agents` 를 입력하면 됩니다.

![2.2.2-5](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-4.png)

2.2.2-5

![2.2.2-6](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-5.png)

2.2.2-6

이 프로젝트에서만 사용할 것이므로 1번을 선택하겠습니다. 2번 선택하면 모든 claude에 영향을 미칩니다.

![2.2.2-7](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-6.png)

2.2.2-7

1번을 선택하여 Claude와 함께 이 에이전트를 만들어보겠습니다.

![2.2.2-8](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-7.png)

2.2.2-8

이제 이 에이전트에게 뭘 시키고 싶은지 쓰시면 됩니다. 엔터 치면 시간이 좀 걸립니다.

![2.2.2-9](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-8.png)

2.2.2-9

![2.2.2-10](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-9.png)

2.2.2-10

모든 권한 다 주고 넘어가겠습니다. 그대로 엔터 치시면 됩니다.

![2.2.2-11](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-10.png)

2.2.2-11

여기까지 하고 나머지는 다 엔터 치시면 됩니다. 다시 원래 화면으로 돌아오면 에이전트 설정 끝입니다. 선택해보시면 삭제하거나 수정도 가능합니다.

![2.2.2-12](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-11.png)

2.2.2-12

파일 확인은 아래 폴더에서 하실 수 있습니다.

![2.2.2-13](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-12.png)

2.2.2-13

![2.2.2-14](/images/essentials-vibecoding/2-2-3-커스텀-명령-이미지-대화연결-Agent-사용법/image-13.png)

2.2.2-14

사용 방법

1. 자동 사용 방법(권장) - 알아서 클로드 코드가 호출합니다.
2. 수동 사용 방법: `run 파일에_있는_name`으로 호출 가능합니다. 추천하지 않습니다.

[Sub agents - Anthropic](https://docs.anthropic.com/en/docs/claude-code/sub-agents)

[GitHub - dl-ezo/claude-code-sub-agents: A complete collection of 35 specialized sub-agents for Claude Code that enable end-to-end software development automation](https://github.com/dl-ezo/claude-code-sub-agents)
