---
chapter: Streamlit 요소 알아보기
title: 파일 입출력
date: 2025-03-24
---

## st.file_uploader

`st.file_uploader`는 파일 업로더 위젯을 생성하여 사용자가 직접 데이터를 업로드할 수 있도록 지원합니다. 기본적으로 업로드 가능한 파일의 크기는 200MB로 제한되어 있으며, server.maxUploadSize [구성 옵션](https://docs.streamlit.io/develop/api-reference/configuration/config.toml#set-configuration-options)을 통해 조정할 수 있습니다. 사용자가 업로드한 데이터를 바탕으로 상호작용을 통한 동적 데이터 시각화를 구현할 수 있어, 보다 직관적이고 실시간적인 데이터 분석 환경을 제공합니다.

```python
st.file_uploader(label, type=None, accept_multiple_files=False, key=None,
                 help=None, on_change=None, args=None, kwargs=None, *,
                 disabled=False, label_visibility="visible")
```

<br>

**매개변수**

- `label`(str) : 사용자에게 파일 업로더가 어떤 용도로 사용되는지 간략히 설명하는 레이블입니다. 레이블에는 마크다운을 포함할 수 있습니다. 이미지는 아이콘처럼 표시되며 최대 높이는 글꼴 높이와 같습니다. 지원되지 않는 마크다운 요소는 래핑이 해제되어 해당 하위 요소(텍스트 콘텐츠)만 렌더링됩니다. 지원되지 않는 요소는 백슬래시 이스케이프를 사용하여 리터럴 문자로 표시합니다. ex) 1\. 정렬된 목록이 아님
  접근성을 위해 빈 레이블을 설정해서는 안 되지만, 필요한 경우 `label_visibility`를 사용하여 숨길 수 있습니다. 향후에는 예외를 발생시켜 빈 레이블을 허용하지 않을 수 있습니다.
- `type`(str, list of str, None) : 업로드된 파일에 허용되는 파일 확장자를 지정합니다.
  - None(기본값) : 모든 파일 확장명이 허용됩니다.
  - 문자열 : 단일 파일 확장자만 허용됩니다. ex) CSV 파일만 허용하려면 "csv"를 사용합니다.
  - 문자열 시퀀스 : 여러 파일 확장자가 허용됩니다. ex) JPG/JPEG 및 PNG 파일만 허용하려면 ["jpg", "jpeg", "png"]는 허용되는 확장자의 배열입니다.
- `accept_multiple_files`(bool) : 제출 시 두 개 이상의 파일을 수락할지 여부입니다.
  - False(기본값) : 사용자는 한 번에 하나의 파일만 제출할 수 있습니다.
  - True : 사용자는 동시에 여러 파일을 업로드할 수 있으며, 반환 값은 파일 리스트가 됩니다.
- `key`(str, int) : 위젯의 고유 키로 사용할 문자열 또는 정수로 요소에 ID를 부여하는데 사용합니다. `key`가 생략된 경우, 위젯의 내용을 기반으로 키가 생성됩니다. `key`는 위젯의 상태를 식별하고 추적하기 때문에 동일한 유형의 여러 위젯은 동일한 키를 공유할 수 없습니다. 만약, 동일 위젯이 동일 `label`을 가지고 버튼을 생성하였을 때, 동일한 키를 공유할 수 없어 DuplicateWidgetID 에러가 발생합니다.
- `help`(str, None) : 사용자에게 위젯 레이블 옆에 도움말 텍스트를 제공하기 위해 사용합니다. 지정한 도움말 텍스트는 위젯 레이블 옆에 "?" 아이콘으로 표시되며, 마우스를 가져다 대면 툴팁으로 표시됩니다. label_visibility="visible"일 때만 툴팁을 표시하며, 설명에는 마크다운을 사용할 수 있습니다. None(기본값)이면 툴팁이 표시되지 않습니다.
- `on_change`(callable) : 파일 업로더의 값이 변경될 때 호출되는 선택적 콜백 함수입니다.
- `args`(tuple) : 콜백에 전달할 선택적 인수 튜플입니다.
- `kwargs`(dict) : 콜백에 전달할 선택적 `kwargs` 딕셔너리입니다.
- `disabled`(bool, Keyword only) : 파일 업로더를 활성화하거나 비활성화할 수 있습니다.
  - False(기본값) : 파일 업로더 활성화
  - True : 파일 업로더 비활성화, 비활성화된 위젯은 사용자가 어떠한 조작을 입력할 수 없습니다.
- `label_visibility`("visible", "hidden", "collapsed", Keyword only) : 레이블의 표시 여부입니다.
  - "visible"(기본값) : 레이블을 필드 위에 표시합니다. 필드는 위젯의 값이 입력되는 공간을 의미합니다.
  - "hidden" : 레이블은 표시되지 않지만, 위젯 위에 빈 공간(공백)을 표시하여 위젯을 다른 위젯과 정렬하는 데 도움을 줍니다.(label=""와 동일)
  - "collapsed" : 레이블과 공백이 모두 제거됩니다. 기본값은 `label`을 보여 줍니다.

<br>

**반환값**

- None, UploadedFile, list of UploadedFile : UploadedFile 클래스는 BytesIO의 서브 클래스이므로 "파일과 유사"합니다. 즉, 파일이 필요한 곳이면 어디든 클래스의 인스턴스를 전달할 수 있습니다.
  - accept_multiple_files=False : None 또는 UploadedFile 객체를 반환합니다.
  - accept_multiple_files=True : 업로드된 파일이 UploadedFile 객체로 포함된 리스트를 반환합니다. 업로드된 파일이 없으면 빈 리스트를 반환합니다.

<br>

**예시 1**

다음 예시는 매개변수 `type`을 이용하여 업로드 가능한 파일의 형식을 지정합니다.

```python
import streamlit as st

uploaded_files = st.file_uploader("파일을 선택해주세요", accept_multiple_files=True,
                                  type=["png","jpg","jpeg"])
for uploaded_file in uploaded_files:
    bytes_data = uploaded_file.read()
    st.write("filename:", uploaded_file.name)
    st.write(bytes_data)
```

![Untitled](/images/streamlit/chapter02/part08/Untitled.png)

<br>

**예시 2**

다음 예시는 `accept_multiple_files`를 True로 정하여 한 번에 여러 가지의 파일을 동시에 업로드할 수 있습니다.

```python
import streamlit as st

uploaded_files = st.file_uploader("CSV파일을 선택해주세요",
                                  accept_multiple_files=True)
for uploaded_file in uploaded_files:
    bytes_data = uploaded_file.read()
    st.write("filename:", uploaded_file.name)
    st.write(bytes_data)
```

![Untitled](/images/streamlit/chapter02/part08/Untitled%201.png)

<br>

**예시 3**

다음 예시는 한 개의 파일을 업로드하는 파일 업로더를 생성하고, 업로드 받은 csv 파일을 출력합니다.

```python
import streamlit as st
import pandas as pd

uploaded_file = st.file_uploader("파일을 선택해주세요")

if uploaded_file is not None:
    dataframe = pd.read_csv(uploaded_file)
    st.write(dataframe)
```

![Untitled](/images/streamlit/chapter02/part08/Untitled%202.png)

<br>

**예시 4**

다음 예시는 한 번에 하나의 파일을 허용하는 파일 업로더를 삽입하고 바이트, 문자열 기반 IO, 문자열, 데이터프레임으로 읽어옵니다.

```python
import streamlit as st
import pandas as pd
from io import StringIO

uploaded_file = st.file_uploader("Choose a file")
if uploaded_file is not None:
    # 바이트로 읽어오기
    bytes_data = uploaded_file.getvalue()
    st.write(bytes_data)

    # 문자열 기반 IO로 읽어오기
    stringio = StringIO(uploaded_file.getvalue().decode("utf-8"))
    st.write(stringio)

    # 문자열로 읽어오기
    string_data = stringio.read()
    st.write(string_data)

    # 데이터프레임으로 읽어오기
    dataframe = pd.read_csv(uploaded_file)
    st.write(dataframe)
```

![스크린샷 2025-05-27 오전 11.12.00.png](/images/streamlit/chapter02/part08/스크린샷_2025-05-27_오전_11.12.00.png '바이트로 읽어오기')

![스크린샷 2025-05-27 오전 11.12.20.png](/images/streamlit/chapter02/part08/스크린샷_2025-05-27_오전_11.12.20.png '문자열 기반 IO로 읽어오기')

![스크린샷 2025-05-27 오전 11.12.49.png](/images/streamlit/chapter02/part08/스크린샷_2025-05-27_오전_11.12.49.png '문자열로 읽어오기')

![스크린샷 2025-05-27 오전 11.13.10.png](/images/streamlit/chapter02/part08/스크린샷_2025-05-27_오전_11.13.10.png '데이터프레임으로 읽어오기')
