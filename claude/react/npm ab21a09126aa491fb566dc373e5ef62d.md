# npm

# 1. 초기설정 명령

- 모듈을 다운로드할 수 있는 playstore라고 생각하세요!

```bash
node -v
npm -v
npm init -y
```

- project(app.js, module 폴더, package.json)는 보통 아래와 같이 구성됩니다.
    1. 실행파일(보통 app.js)
    2. module 폴더 (npm install 라이브러리_이름, 일반적으로 github에 올릴 때에는 삭제하고 올림, npm i로 package.json으로 설치할 수 있습니다.)
    3. package.json (npm init으로 생성, 라이브러리 설치될 때마다 update, package version 명시)
- yarn도 많이 사용하는데 npm에 문제를 해결하기 위해 facebook에서 만든거에요. 간혹 npm에서 에러가 나면 yarn 사용합니다.

# 2. pagekage.json

```bash
npm install moment
```

```jsx
let moment = require('moment');

console.log(`moment : ${moment()}`)
console.log(`포맷 지정 : ${moment().format("YYYY-MM-DD")}`)

console.log(`연 : ${moment().year()}`)
console.log(`월 : ${moment().month()}`) // 0〜11의 값
console.log(`일 : ${moment().date()}`)
console.log(`요일 : ${moment().day()}`)
console.log(`시 : ${moment().hours()}`)
console.log(`분 : ${moment().minutes()}`)
console.log(`초 : ${moment().seconds()}`)
```

- 우리도 패키지를 만들어 배포할 수 있습니다.
- 우리가 package를 설치하면 아래와 같이 package.json이 자동적으로 입력되게 되는데요. 이는 추후 정확한 package를 설치해서 소스코드에 오류가 없게 함입니다.
    
    ```jsx
    {
      "name": "expressProject",
      "version": "1.0.0",
      "description": "",
      "main": "app.js",
      "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1"
      },
      "keywords": [],
      "author": "",
      "license": "ISC",
      "dependencies": {
        "express": "^4.17.1",
        "express-validator": "^6.13.0"
      },
      "devDependencies": {
        "nodemon": "^2.0.14"
      }
    }
    ```
    
- 명세입니다.
    
    ```jsx
    {
      "name": "프로젝트 이름",
      "version": "프로젝트 버전",
      "description": "프로젝트 설명",
      "main": "app.js(진입점)",
      "scripts": {
        // 프로젝트에서 자주사용하는 명령어(npm run test, npm run start, npm start)
        "hello": "echo hello world!",
        "start": "node index.js",
        "test": "echo \"Error: no test specified\" && exit 1"
      },
      "keywords": [프로젝트참조키워드],
      "author": "제작자 이름",
      "license": "패키지 라이센스",
      "dependencies": {
        // 프로젝트에서 사용하는 모듈
        "express": "^4.17.1",
        "express-validator": "^6.13.0"
      },
        // 프로젝트에서 개발 시에만 의존하는 모듈
      "devDependencies": {
        "nodemon": "^2.0.14"
      }
    }
    ```
    
- 패키지 배포 및 삭제에 좋은 글이 있어 소개해드립니다.
    
    [패키지 배포하기 (npm publish)](https://www.daleseo.com/js-npm-publish/)
    

# 3. Version

- Version은 아래와 같이 표기됩니다. 위에 버전에 대입해서 보세요.
    
    ```jsx
    1.2.3
    // major.minor.patch
    // 메이저가 업데이트 되면 기존 버전과 호완이 안될 확율이 매우 높습니다! 업데이트 주의해주세요.
    // ^(캐럿) : minor 버전까지 설치 또는 업데이트
    // ~(틸드) : patch 버전까지 설치 또는 업데이트
    // <, <=, >, >=, =
    ```
    
- Version에 대한 좋은 글입니다.
    
    [npm: 소개, 설치, 명령어, 배포](https://www.howdy-mj.me/node/about-npm/)
    
- npm version에 대한 공식 사이트에서 version 관련 사항을 설명해드리겠습니다.
    
    [About semantic versioning | npm Docs](https://docs.npmjs.com/about-semantic-versioning)
    
- 사용할 수 있는 semver 정리해놓은 사이트에요.
    
    [npm semantic version calculator](https://semver.npmjs.com/)
    

# 4. npm 명령어

- npm init : 초기 설정
- npm init -y : 초기 설정 한 번에 yes
- npm install <패키지명> or npm i <패키지명> : 설치
- npm install <패키지명> or npm i <패키지명> -D : 개발 전용으로 설치
- npm i -g <패키지명> : 전역설치
- npm uninstall <패키지명> : 삭제
- npm uninstall -g <패키지명> : 전역삭제
- npm ls : 설치된 패키지 확인
- npm ls -g : 전역 설치된 패키지 확인
- npm i --save : 5버전 이후로는 디폴트(명시하지 않아도 됩니다.)

# 5. github ignore 설정

github에 push할 때에는 module 폴더를 올릴 필요가 없습니다. `.gitignore`파일 생성 후 아래 문구를 넣어주면 됩니다.

```jsx
node_modules
```

다시 설치하고 싶을 때에는 아래 명령어를 입력하면 됩니다.

```bash
npm i
```