# 리액트 프로젝트 코드리뷰

- 여러분이 실제 프로젝트나 포트폴리오에서 자주하는 실수 또는 보완했으면 하는 사항에 관하여 언급해놓은 것입니다. 코드리뷰 절차나 규칙에 대한 언급은 아닙니다.
    
    자세한 사항은 여러분이 들어가길 원하시는 기업의 **Front-end 개발자 Code Style Guide, Code Review Guide를 확인해주세요.** 공개되어 있는 경우도 많습니다. (대표적으로 class101 코드리뷰 가이드라인은 공개되어 있습니다.)
    

# 0. 코드리뷰

- 코드리뷰는 스스로 개발하지 않은 타인의 코드를 점검하고 피드백을 주는 과정입니다.
- 고수준에서 저수준으로 리뷰합니다.
    - 고수준
        - 버그
        - 보안 이슈
        - 장애
    - 저수준
        - 기능상 문제없는 오타
        - 파일 분리
        - 폴더 분리
        - 응집도 체크
        - 스타일 가이드 준수
- 코드를 비판할 때에는 코드를 비판하는 것이지 개인을 공격하는 점이 아니라는 것을 꼭 기억해주시기 바랍니다.
    - 코드와 본인의 인격은 분리해서 생각해주셔야 합니다. 공격적인 태도로 저자를 공격하는 것이나 방어적인 태도로만 리뷰어의 의견을 듣는 것을 방지하기 위한 문화가 필요합니다.

![7d43b4fd7669e714.png](7d43b4fd7669e714.png)

- 저자는 리뷰 요청을 할 때 **문서**를 작성해야 합니다. 문서는 상세해야 하는데 대표적으로 2가지 이유를 들 수 있습니다.
    - 자신이 짠 코드라도 2~3주 후면 기억이 잘 안납니다.
    - 리뷰어는 자신의 코드도 짜면서 저자의 코드도 봐야 합니다. 출근 대부분의 시간을 리뷰에 쏟을 수는 없기 때문에, 리뷰어가 읽어서 이해가 안되면(그만큼 문서가 불충분하다면), 리뷰를 **거절**해야 합니다.
- 변경내역은 보통 PR로 날립니다. (여기에 상세 기록을 해주셔야 합니다.)

# 1. 검색 키워드

- React codereview best practice
- react folder structure

# 2. github 관리

- commit 내역
- README.md 파일 정리

# 3. 모듈 분리

- 모듈은 하나의 기능만!
- 예외처리!

# 4. 폴더 분리

- 폴더 분리
    - 아토믹 디자인
        - src > components > pages, templates, UI > atoms, molecules, organisms
        
        [리액트 어플리케이션 구조 - 아토믹 디자인](https://ui.toast.com/weekly-pick/ko_20200213)
        
        [아토믹 디자인을 활용한 디자인 시스템 도입기](https://fe-developers.kakaoent.com/2022/220505-how-page-part-use-atomic-design-system/)
        
    - src > _actions, _reducers, components, screens, assets
    - src > actions, reducers, api, components, pages, assets
    - src > …중략, helper > api
    - 중첩된 디렉토리 구조 - 1
        - components > App > index.js, App.jsx
        - components > Blog > index.js, Blog.jsx
        - components > BlogDetail > index.js, BlogDetail.jsx
        - components > shared(공유되고 있는 컴포넌트)
            - shared > BlogList > index.js, BlogList.jsx
            - shared > BlogList > BlogItem > index.js, BlogItem.jsx
            - shared > UserName > index.js, UserName.js
    - 중첩된 디렉토리 구조 - 2
        - components
            - common
            - pages

# 5. style

- css 구조
    - Component.jsx, component.css
    - Component.jsx, ComponentPresenter.js(요즘 사용X)
    - Component.js, ComponentStyle.js (공통 style은 components안에 styles 폴더 바로 아래)
- styled-component
    
    [styled-components: Basics](https://styled-components.com/docs/basics)
    
    - ComponentStyle.js 파일 분리(styled-component사용시 컴포넌트가 하단으로 밀려나가는 것을 방지)
    - 재사용할 수 있는 styled-component는 styled-components의 `{ css }`로 확장하여 사용
        
        ```jsx
        import styled, { css } from "styled-components";
        
        const ShareStyle = css`
            color:red;
        `
        
        const One = styled.div`
            ${ShareStyle}
            // ... 중략 ...
        `
        
        const Two = styled.div`
            ${ShareStyle}
            // ... 중략 ...
        `
        
        const Three = styled(Link)`
            ${ShareStyle};
            // ... 중략 ...
        `;
        ```
        
        [React에서 Styled components로 스타일링 하기](https://velog.io/@devstone/React%EC%97%90%EC%84%9C-Styled-components%EB%A1%9C-%EC%8A%A4%ED%83%80%EC%9D%BC%EB%A7%81-%ED%95%98%EA%B8%B0)
        
    - 아래와 같은 방식으로도 사용 가능합니다.
        
        ```jsx
        const One = styled.div`
            color:red;
            // ... 중략 ...
        `;
        
        const Two = () => <One/>
        const Three = () => <One as=Link/>
        ```
        

# 6. 그 외 피드백

- 해당 컴포넌트가 다른 곳에 사용될 여지를 염두하라(li로 감쌀 경우, 항상 위에 ul태그가 들어가는지 확인)
- 큰 따옴표와 세미콜론을 많은 곳에서 사용하고 있음
- 변수는 const
- tip : Ctrl+Shift+F (파일 탐색을 많이 하게 될겁니다.)
- jsx 확장명을 사용하지 않고 js확장명을 사용하는 곳도 있음
- import 모듈 정렬 순서는 from에 있는 이름순(react다음에 react-redux, react-router-dom)
    - components > auth 다음에, layouts, pages 순으로
- 에러처리
- URL 주소 체계는 확장성을 고민해보고 작성
- 중복 제거
- context나 redux는 유저 정보 정보를 담는 것에도 많이 활용됩니다.
- 주소는 state로 주기 보다는 useHistory(), useNavigate(), props로 받기 전에 적절한 Hook이 있는지 찾아보는 것
- 매개변수가 많을 때(3개 이상일 때)에는 객체로 해서 1개로 받아라.(RORO)
    
    [Elegant patterns in modern JavaScript: RORO](https://www.freecodecamp.org/news/elegant-patterns-in-modern-javascript-roro-be01e7669cbd/)
    
- 내용이 없다면 닫아줘라
    
    ```jsx
    <Hello name='hojun'/> //권장
    <Hello name='hojun'></Hello> //비권장
    ```
    
- nextjs가 검색노출 더 높다
- SEO를 높이기 위해 react-helmet, title이나 meta를 설정해줄 수 있음
- 레이어가 나뉘어있지 않다
    - fetch나 axios 모듈 레이어
    - 서비스 레이어
    - 데이터 응답 레이어
    - 로그인 레이어
    - 레이어 아키텍처
        
        [[Layer Architecture] 레이어 아키텍처](https://black-jin0427.tistory.com/207)