# 3. React 프로젝트 생성, 배포하기

<aside>
💡 Node 환경을 사용하는 것이 복잡하다고 생각되신다면 기존에 배운 CDN 방식에서 좀 더 익숙해지신 다음 진행하시는 것이 좋습니다.
복잡도가 한 번에 커지면 절망감이 느껴지고, 극복하긴 쉽지 않습니다. 여러분이 가장 쉽게 테스트할 수 있는 환경으로 먼저 시작하세요.

</aside>

# 1. Node.js 설치 및 개요

[Node.js](https://nodejs.org/ko/)

노드JS(Node.js)는 자바스크립트를 이용하여 서버사이드 개발을 가능하게 하는 오픈소스 플랫폼입니다. 라이언 달(Ryan Dahl)이 개발한 노드JS는 크롬의 자바스크립트 엔진인 V8 엔진을 사용하여 작성된 자바스크립트 코드를 컴파일하고 실행할 수 있는 환경(런타임)을 제공합니다.
[https://medium.com/tech-confs-in-korean/ryan-dahl-내가-node-js에-대해-후회하는-것-10가지-jsconf-eu-2018-c4c3cbb6b5ef](https://medium.com/tech-confs-in-korean/ryan-dahl-%EB%82%B4%EA%B0%80-node-js%EC%97%90-%EB%8C%80%ED%95%B4-%ED%9B%84%ED%9A%8C%ED%95%98%EB%8A%94-%EA%B2%83-10%EA%B0%80%EC%A7%80-jsconf-eu-2018-c4c3cbb6b5ef)

[https://www.youtube.com/watch?v=M3BM9TB-8yA](https://www.youtube.com/watch?v=M3BM9TB-8yA)

DENO 가 궁금하다면?
[https://www.youtube.com/watch?v=WtQlAzhE3gY](https://www.youtube.com/watch?v=WtQlAzhE3gY)

![스크린샷 2023-05-01 오후 1.10.19.png](%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-05-01_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_1.10.19.png)

<aside>
🧐 런타임(runtime)이란?
**런타임 환경(**runtime environment)은 컴퓨터가 현재 실행중인 OS와 별개로 프로세스나 프로그램을 위한 소프트웨어 서비스를 제공하는 **가상 머신**을 의미합니다. 여기서 가상 머신(Virtual Machine)이란 하나의 물리적 컴퓨터에서 여러 운영체제(OS)를 실행하기 위한 소프트웨어로 가상 머신을 사용하면 하나의 컴퓨터에서 여러 개의 운영체제를 실행할 수 있으며, 특히 서버 운영 등에 유용하게 사용됩니다.

![가상머신의 구조도 (Kernel : 애플리케이션 프로그램이 하드웨어에 접근할 수 있도록 하는 중간다리)](%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-05-01_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_11.47.16.png)

가상머신의 구조도 (Kernel : 애플리케이션 프로그램이 하드웨어에 접근할 수 있도록 하는 중간다리)

![맥 사용자들에게 친숙한 패러랠즈 역시 가상머신입니다.](%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-10-24_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_6.54.46.png)

맥 사용자들에게 친숙한 패러랠즈 역시 가상머신입니다.

</aside>

- javascript, HTML, CSS, WASM 어디서 돌아가나요? 여러분이 Node.js를 설치하시면 터미널에서도 자바스크립트를 실행할 수 있다는 것을 확인할 수 있습니다.
- 정리하자면 원래는 웹 브라우저에서만 동작하는 javascript를 어디서든 실행시킬 수 있도록, V8엔진을 실행시킬 수 있는 가상환경을 만든것 이라고 할 수 있습니다.

## 1.1 우리는 왜 Node.js 환경에서 리액트를 실행시켜야 하나요?

합리적인 의심입니다! 앞서서 분명 VSC와 브라우저만 가지고도 우리는 리액트 앱을 만들고 실행했습니다. 갑자기 Node.js는 왜 등장하는거죠?

### NPM (Node Package Manager)

Node.js 의 소울메이트. 바로 NPM입니다.

NPM은 자바스크립트 패키지 매니저의 약자로, Node.js 런타임에서 사용되며, 개발자들이 자바스크립트 패키지를 쉽게 설치, 업데이트, 삭제할 수 있도록 도와주는 관리 프로그램입니다. NPM은 기본적으로 Node.js와 함께 설치되며, CLI(Command Line Interface)를 통해 사용할 수 있습니다. 다양한 패키지를 검색하고, 패키지를 설치하고, 버전 관리 등의 다양한 기능을 제공합니다. (*여기서 패키지란 Node.js 환경에서 실행가능한 소프트웨어를 의미하며, React 역시 NPM을 통해 다운받아서 설치할 수 있는 라이브러리의 하나입니다.*)

NPM은 자바스크립트 생태계에서 매우 중요한 위치를 차지하고 있으며, 수많은 패키지가 NPM을 통해 배포되고 있습니다. 이러한 패키지를 사용하면 개발자들은 빠르고 효율적으로 자신의 소프트웨어를 개발할 수 있습니다.

<aside>
🧐 Node.js와 NPM === iOS와 App Store || Android와 Google Play
NPM이 아직 알쏭달쏭 하시다면 iOS와 App Store를 생각해보세요. iOS운영체제의 API를 이용하면 아이폰에서 동작하는 수많은 애플리케이션을 만들 수 있고, 이를 App Store에 올려서 사용자가 다운로드 받을 수 있게 할 수 있습니다. 마찬가지로 개발자는 Node.js 의 API를 이용해 라이브러리를 만들 수 있고 이를 NPM에 올려서 다른 개발자들이 자신의 프로젝트를 만드는데 이용할 수 있습니다. 즉 개발자의 App Store라고 보시면 됩니다. 
App Store가 iOS 생태계에 크게 기여했듯, NPM도 Node.js의 영향력을 키우는데 많은 도움을 줬습니다.

</aside>

이러한 NPM의 강력한 지원 덕분에, 우리는 리액트 프로젝트에 도움을 줄 수 있는 여러 강력한 도구들을 추가로 다운로드하여 개발을 좀 더 수월하게 할 수 있습니다.

특히 Webpack, PARCEL과 같은 번들러를 통해 우리의 프로젝트를 배포하기 좋은 상태로 만들 수 있습니다!

# 2. React Project 생성하기

이전 챕터에서는 웹페이지에 React를 적용시켜 보았습니다. 이번에는 리액트로 이루어진 프로젝트를 생성해 보도록 하겠습니다. 터미널을 실행하고 한 줄이면 프로젝트가 생성됩니다.

```bash
npm create vite@latest my-react-app -- --template react
```

<aside>
💡 + Node 14.0.0 이상 그리고 npm 5.6 이상의 버전을 필요로 합니다!  npx는 npm의 도구이며 npm 5.2.0 이상에서 지원합니다. 
npx는 npm package execute의 약자이며 설치 후 실행까지 담당합니다.

</aside>

Vite는 현대적인 프론트엔드 개발 도구로, Vue.js 창시자인 Evan You가 만들었습니다.

Vite는 기본적으로 TypeScript를 지원하고, 특히 대규모 프로젝트에서 개발 서버 구동 시간과 빌드 성능을 크게 개선할 수 있어 최근 많은 개발자들이 선호하고 있습니다. 

[Vite를 사용해야 하는 이유](https://ko.vite.dev/guide/why.html)

Vite 를 사용해야 하는 이유

위 명령어(`npm create vite@latest my-react-app -- --template react`)를 실행하면 명령어를 실행한 디렉토리에 my-react-app이라는 디렉토리가 하나 생깁니다. 해당 디렉토리 폴더를 열어보면 아래와 같은 모양으로 프로젝트가 생성되어 있을 것입니다.

![스크린샷 2025-06-24 오후 10.03.25.png](%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-06-24_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_10.03.25.png)

프로젝트를 생성했으니 실행해 봅시다. 최초 프로젝트 생성 명령어를 실행했던 곳에서 아래 명령어를 입력해 보세요.

```bash
cd my-react-app
npm install
npm run dev
```

명령어를 실행하면 웹페이지가 켜지고 아래와 같은 웹페이지가 실행됩니다.

![스크린샷 2025-06-24 오후 10.04.30.png](%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-06-24_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_10.04.30.png)

# 3. Hello World

src 폴더에 있는 `App.jsx`를 열어주세요. 우리가 위에서 본 화면의 코드가 보입니다.

```jsx
import { useState } from 'react'
import reactLogo from './assets/react.svg'
import viteLogo from '/vite.svg'
import './App.css'

function App() {
  const [count, setCount] = useState(0)

  return (
    <>
      <div>
        <a href="https://vite.dev" target="_blank">
          <img src={viteLogo} className="logo" alt="Vite logo" />
        </a>
        <a href="https://react.dev" target="_blank">
          <img src={reactLogo} className="logo react" alt="React logo" />
        </a>
      </div>
      <h1>Vite + React</h1>
      <div className="card">
        <button onClick={() => setCount((count) => count + 1)}>
          count is {count}
        </button>
        <p>
          Edit <code>src/App.jsx</code> and save to test HMR
        </p>
      </div>
      <p className="read-the-docs">
        Click on the Vite and React logos to learn more
      </p>
    </>
  )
}

export default App

```

`App.jsx` 코드 안에 태그가 보입니다. `return()`안에 작성된 내용을 보면 분명 js 문법처럼 생겼으나, js라면 따옴표로 감싸주어야 할 것들이 그대로 나와있는 것을 볼 수 있어요. 이런 문법은 바로 **JSX(JavaScript + XML)**라고 합니다. JSX에 대한 내용은 다음 챕터에서 자세히 알아보도록 하고 용어만 기억하고 넘어갑시다.

같은 경로인 src 폴더에 있는 `main.jsx` 파일을 열어보도록 합시다.

```jsx
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'

createRoot(document.getElementById('root')).render(
  <StrictMode>
    <App />
  </StrictMode>,
)

```

이 부분이 바로 우리가 봤던 `App.js`파일에서 작성된 부분이 보여지게 되는 부분입니다. src 폴더 밖의 `index.html` 파일을 열어보면 `<div id='root'></div>` 가 있는데 바로 이 부분에 랜더링됩니다. 

즉, `App.jsx`가 메인페이지고, `main.jsx`가 메인페이지를 보여지게 합니다. 바로 `index.html`에요!

---

App.js, index.js, index.html 파일의 내용을 수정하고 프로젝트 폴더의 내용을 정리하겠습니다. 우리 수업에서 다루지 않을 여러 파일을 삭제합니다.

![필요없는 파일은 과감히 삭제합니다.](%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-06-24_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_10.13.10.png)

필요없는 파일은 과감히 삭제합니다.

아래 파일은 매번 프로젝트를 생성한 후 진행될 과정이라 미리 다른 파일에 옮겨 놓으시면 편하게 작업을 하실 수 있습니다.

- App.jsx
    
    ```jsx
    function App() {
      return (
        <div className="App">
          <h1>test2</h1>
        </div>
      );
    }
    
    export default App;
    ```
    

- main.jsx
    
    ```jsx
    import { StrictMode } from 'react'
    import { createRoot } from 'react-dom/client'
    import App from './App.jsx'
    
    createRoot(document.getElementById('root')).render(
      <StrictMode>
        <App />
      </StrictMode>,
    )
    ```
    

이번 챕터에서는 이렇게 프로젝트의 대략적인 구조를 살펴보았습니다. 

<aside>
🧐 파일들은 모두 제각각 분리되어 있는데 어떻게 합쳐지는건가요?
src 폴더의 App.jsx, main.jsx 와 같은 파일들을 하나로 묶는 작업은 vite가 해줍니다. `npm run build` 명령어를 실행하면 추가하지 않았던 dist폴더를 확인할 수 있습니다. 이것이 바로 모듈 별로 분리되어 있던 JS파일을 하나로 묶은(번들링한) 결과물입니다.

![스크린샷 2025-06-24 오후 10.24.15.png](%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-06-24_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_10.24.15.png)

</aside>

# 4. 배포하기

React로 만든 프로젝트를 빌드하고, 배포하는 작업을 해봄으로 프로젝트 전체 생산 절차를 파악하실 수 있습니다.

1. github pages를 만들 레포지토리를 만들어 주세요.
2. 아래 코드를 vite.config.js 에 추가합니다.
    
    ```jsx
    import { defineConfig } from 'vite'
    import react from '@vitejs/plugin-react'
    
    export default defineConfig({
      plugins: [react()],
      base: '/your-repo-name/', // GitHub 레포지토리 이름
    })
    ```
    
3. **gh-pages 패키지를 설치합니다.**
    
    ```bash
    npm install gh-pages --save-dev
    ```
    
4. package.json의 scripts 섹션에 deploy를 추가합니다.
    
    ```bash
    {
      "scripts": {
        "dev": "vite",
        "build": "vite build",
        "preview": "vite preview",
        "deploy": "npm run build && gh-pages -d dist"
      }
    }
    ```
    
5. 아래 명령어를 실행해 애플리케이션을 빌드하고 배포합니다.
    
    ```bash
    npm run deploy
    ```
    
6. dist 폴더에 빌드된 코드를 Repository에 업로드합니다.
    
    ![스크린샷 2025-06-24 오후 10.33.09.png](%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-06-24_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_10.33.09.png)
    
7. GitHub 저장소 설정에서 Pages 소스를 main 브랜치로 변경합니다.
    
    ![스크린샷 2025-06-24 오후 10.47.39.png](%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-06-24_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_10.47.39.png)
    

<aside>
💡

**npx my-react-vite-app** [프로젝트 이름]
앞으로는 실습환경 생성을 위해 아래의 명령어를 통해 프로젝트를 생성합니다.
여러분들의 실습을 위한 기본적인 환경을 vite와 동일하게 유지하면서 필요없는 파일은 제거하였습니다.

```bash
npx my-react-vite-app [프로젝트 이름]
```

</aside>