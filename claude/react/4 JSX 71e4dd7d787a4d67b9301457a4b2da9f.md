# 4. JSX

## 1. JSX란?

JSX란 JavaScript XML의 약자로, 리액트에서 사용하는 특수한 문법입니다. JSX는 HTML과 매우 유사하지만 엄연히 다른 언어이며, JavaScript 코드에서 마치 HTML을 사용해 UI컴포넌트를 만드는것 같은 편리한 개발 경험을 제공합니다. 이렇게 하면 JavaScript 코드와 HTML 태그를 함께 사용하여 UI를 렌더링할 수 있어서, UI 코드의 가독성과 유지보수성이 높아집니다 ☺️

src에 있는 `App.js`를 수정하며 살펴보겠습니다.

```jsx
function App() {
  return (
    <div className="App">
      <h2>hello world</h2>
    </div>
  );
}

export default App;
```

HTML과 JavaScript를 사용해봤다면 `return()` 안에 있는 내용들이 익숙할 거에요. 일반적인 js에서 위와 같은 방식으로 사용한다면 에러가 발생합니다. 

하지만 위와 같은 방법을 사용하면 더 편하게 컴포넌트로 분리하여 코드를 작성할 수 있습니다.

App 함수를 아래와 같이 수정해 보세요.

```jsx
function App() {
  return (
    <h1>안녕, 라이캣!</h1>
  );
}
```

![Untitled](Untitled%206.png)

코드를 수정한 후 터미널에서 `npm start` 명령어를 입력하여 실행해 봅시다.

```bash
npm start
```

vite를 사용했을 경우 아래 명령어를 쓰시면 됩니다.

```bash
npm run dev
```

## 2. JSX문법

### 2.1 컴포넌트의 최상위 부모 요소는 1개 즉, 단일해야 합니다.

이번에는 `<h1>` 태그를 이용해 2개의 태그를 작성하고 저장해보겠습니다.

```jsx
function App() {
  return (
			<h1>안녕, 라이캣 1호!</h1>
			<h1>안녕, 라이캣 2호!</h1>
  );
}
```

![Untitled](Untitled%207.png)

컴파일에 실패한 것을 볼 수 있습니다. 문제가 있는 부분은 이렇게 알림을 주는데요. JSX로 표현할 때에는 하나의 부모만 가질 수 있습니다. 즉, **최상위에는 한 개의 태그**만 있어야 한다는 것입니다. 아래와 같이 코드를 수정하면 잘 실행되는 것을 확인할 수 있습니다.

```jsx
function App() {
  return (
		<div>
			<h1>안녕, 라이캣 1호!</h1>
			<h1>안녕, 라이캣 2호!</h1>
		</div>
  );
}
```

![잘 동작합니다!](Untitled%208.png)

잘 동작합니다!

### 2.2 주석

JSX 문법 안이 아니라면 일반적인 JS문법의 주석을 사용할 수 있습니다. 리액트는 JS로 만들어졌다는 사실을 기억하세요!

```jsx
function App() {
	//여기는 js할 때와 똑같이 주석을 입력합니다! 왜냐면 여기는 JS의 영역이니까요 :)
  return (
	{/* 여기부터는 jsx! 주석은 이런식으로 작성합니다~ 한 줄 주석은 따로 존재하지 않습니다. */}
		<div>{/* 최상위 태그는 하나만! */}
			<h1>안녕, 라이캣 1호</h1>
			<h1>
				안녕, 라이캣 2호!
			</h1>{/* 태그는 무조건 닫아줘야합니다! 안그러면 에러나와요! */}
			<div/>{/* 이런식으로 바로 태그를 닫히게 할 수도 있어요! */}
		</div>
  );
}
```

### 2.3 태그에 클래스 넣기 + 스타일 적용하기

<aside>
🧐 HTML 문법과 JSX는 비슷하지만 여러 차이점을 가지고 있습니다. 비슷한 문법 때문에 오해하기 쉬운 문법적 차이점을 정리해봅니다.

1. 모든 JSX 속성 이름은 카멜 케이스(CamelCase) 대문자 구분을 따릅니다. (ex. `maxlength`, `tabindex`)
2. 문자를 제외한 속성값은 중괄호({ })를 사용합니다.
3. `true` 값을 갖는 속성은 속성 이름만으로 표현할 수 있습니다. 만약 `false`라면 중괄호를 사용합니다. 단, react 가 명확히 boolean 속성값을 가지는 속성으로 인식하지 못하는 사용자 정의 속성의 경우는 문자열(’true’ 혹은 ‘false’)로 대신 전달해야합니다. 
    
    ![스크린샷 2024-08-21 오후 4.23.25.png](%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-21_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_4.23.25.png)
    
    ![스크린샷 2024-08-21 오후 4.22.30.png](%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-21_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_4.22.30.png)
    
4. 'class' 속성은 'className'으로 표기합니다.
5. 인라인 스타일은 객체 형태로 사용합니다.
</aside>

```jsx
import './App.css';

function App() {
  return (
		<div>
			<h1>안녕, 라이캣 1호</h1>
			<h2>안녕, 라이캣 2호!</h2>
			<div className="newClass"/> {/* class대신 className=""로 진행! */}
		</div>
  );
}

export default App;
```

이번에는 위에서 작성한 `<div>` 태그에 스타일을 적용해 봅시다. HTML과 달리 클래스를 추가할 때 `class`라고 기재하지 않고 `className`이라고 표기하여 클래스를 정의합니다. JSX는 사실 JS코드로 이뤄져있기 때문에 class 라는 단어는 이미 JS에서 예약어로 사용하고 있어 이용할 수 없습니다. HTML의 id는 그냥 id로 사용합니다.

![babel에서 JSX를 JS로 변환할 수 있습니다. JSX는 사실 JS코드로 이뤄져있습니다.](%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-05-01_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_11.49.52.png)

babel에서 JSX를 JS로 변환할 수 있습니다. JSX는 사실 JS코드로 이뤄져있습니다.

클래스를 추가해 주었다면 이제는 css 파일을 생성해 봅시다. 우선 src폴더 안에 `App.css` 파일을 생성합니다. 생성 후 아래 코드를 작성하면 됩니다. css는 기존에 우리가 작성했던 방식 그대로 사용하면 됩니다.

<aside>
💡 보통 components라는 폴더를 만들어 그 안에 component를 만들어 넣을 때 아래와 같이 네이밍 합니다.

- Menu.jsx
- Menu.css
</aside>

```jsx
import './App.css';
```

```css
.newClass{
  width: 100%;
  height: 20px;
  background-color: black;
}
```

![Untitled](Untitled%209.png)

저장 후 실행하면 위의 사진과 같이 '안녕, 라이캣 2호!' 하단에 검은색 줄이 생긴 모습을 보실 수 있습니다. in-line 스타일로 적용하는 법도 살펴보겠습니다.

<aside>
💡 JSX에서 제공하는 className을 사용하지 않고 우리가 사용했던 class를 그대로 사용하면 어떻게 될까요? 아래와 같이 실행은 되지만 console창에 warning이 뜨는 것을 볼 수 있습니다. JSX를 사용하는 만큼 권고사항에 따라주세요.

![Untitled](Untitled%2010.png)

</aside>

in-line 스타일로 적용할 때는 주의할 점이 있습니다. style을 정의할 때는 오브젝트 형태로 작성해야 하는데요! 오브젝트 형태는 아래와 같이 key와 value를 짝을 지어 작성합니다.

```jsx
{
	"key":value,	
}
```

앞서 클래스 이름을 태그에 추가할 때 `class="클래스이름"` 형태가 아닌 `className="클래스이름"`으로 적었었죠? 

이처럼 HTML과 또 다른 차이점이 존재합니다. **스타일을 정의할 때는 '-'를 사용할 수 없습니다. 그렇기 때문에 camelCase(단어를 대문자로 구분)를 사용하여 작성**합니다. `.css` 파일을 만들어 사용할 때에는 그대로 사용하실 수 있습니다.

아래와 같이 `background-color` 라고 작성하는 대신 `backgroundColor` 처럼 작성합니다.

<aside>
🧐 왜 background-color라고 작성할 수 없을까요? 우리가 class 라는 텍스트를 사용할 수 없는 이유와 연결지어 생각해봅시다.

</aside>

```jsx
<div style={{**backgroundColor**:"black", color:"white"}}></div>
```

- 비교해 보세요.

```jsx
// JSX 버전
<h1 style={{backgroundColor:"black", color:"white"}}>안녕, 라이캣 1호</h1>

// HTML 버전
<h1 style='background-color:black; color:white'>안녕, 라이캣 2호!</h1>
```

```jsx
import './app.css';

function App() {
  return (
		<div>
			<h1 style={{backgroundColor:"black", color:"white"}}>안녕, 라이캣 1호</h1>
			<h1>안녕, 라이캣 2호!</h1>
			<div className="newClass"/>
		</div>
  );
}

export default App;
```

![Untitled](Untitled%2011.png)

<aside>
🧐 맞춰보세요!
아래와 같은 JSX 코드가 있습니다! 어떤점이 잘못되었는지 맞춰보세요 🙂

```jsx
function TextArea() {
  return (
    <div class="wrapper">
      <textarea
        readonly
        maxlength=3
        style={"background-color: blue;"}
      />
    </div>
  );   
}
```

</aside>

### 2.4 자바스크립트 사용하기

이번에는 자바스크립트에서 변수를 만들고 이 변수를 활용해 보도록 하겠습니다. 

아래 코드를 작성해 주세요. 기존 `return()` 위에 `const name = '라이캣!'` 으로 변수 하나를 생성하고, `return()` 안 jsx 태그 안에 라이캣 대신 중괄호를 사용하여 name으로 변경합니다. 

```jsx
import './App.css';

function App() {
	const name = '라이캣!';
  return (
		<div>
			<h1 style={{backgroundColor:"black", color:"white"}}>
				안녕, **{name}** 1호
			</h1>
			<h1>안녕, 라이캣 2호!</h1>
			<div className="newClass"/>
		</div>
  );
}

export default App;
```

![Untitled](Untitled%2012.png)

중괄호 하나는 JavaScript에 다양한 문법을 사용할 수 있게 해줍니다. 아래와 같이 여러가지를 테스트 해보시길 바랍니다.

```jsx
{100 + 1}
{'hello' + 'world'}
{[1, 2, 3].map(x => x**2)}
{함수()}
{변수}
{값?'one':'two'}
```

스타일도 변수에 넣어 사용할 수 있습니다. 첫번째 `<h1>`에 적용한 스타일을 `someStyle` 변수에 할당해 봅시다.

```jsx
const someStyle = {backgroundColor:"black", color:"white"}
```

변수를 선언해 준 후 아래와 같이 `style={somStyle}` 을 추가하여 스타일을 적용합니다.

```jsx
import './App.css';

function App() {
  const name = '라이캣!';
  const someStyle = {backgroundColor:"black", color:"white"};
  return (
    <div>
      <h1 style={someStyle}>
        안녕, {name} 1호
      </h1>
      <h1>안녕, 라이캣 2호!</h1>
    <div className="newClass"/>
  </div>
  );
}

export default App;
```

이 외에도  js에서 동작하는 기본적인 기능들을 활용하여 많은 것들을 할 수 있습니다. 이 부분은 뒤에서 더 살펴보도록 하겠습니다.

## 3. 실습 과제

### 3.1 시간 표시

앞에서 배운 내용을 바탕으로 아래와 같은 UI를 추가해 보세요.

![Untitled](Untitled%2013.png)

1. 각 시간은 직접 입력(문자열로 타이핑)하지 않고 Date객체의 값을 출력하게 만들어 주세요.
2. 새로고침할 때마다 **현재 시간**을 표시합니다. Tip) 자바스크립트에서 제공하는 Date 활용
3. 스타일도 적용해 보세요.
- 정답
    
    ```jsx
    import './app.css';
    
    function App() {
    	const name = '라이캣!';
      const someStyle = {backgroundColor:"black", color:"white"};
      const today = new Date();
      const year = today.getFullYear();
      const month = today.getMonth()+1;
      const date = today.getDate();
      const hour = today.getHours();
      const min = today.getMinutes();
      const sec = today.getSeconds();
    
      return (
        <div>
          <div>
            <h2 style={someStyle}>안녕, {name} 1호</h2>
            <h2>안녕, 라이캣 2호!</h2>
            <div className="newClass"/>
          </div>
          <div style={{backgroundColor:"black", color:"white"}}>
            <h2 style={{color:'red'}}>년 : {year}</h2>
            <h2>월/일 : {month}/{date}</h2>
            <h2>시간 : {hour}시 {min}분 {sec}초</h2>
          </div>
        </div>
      );
    }
    
    export default App;
    ```
    

### 3.2 리스트 렌더링

배열 데이터를 이용해 아래와 같은 컴포넌트를 만들어보세요. visited 값이 true인 지역은 배경색을 지정하도록 스타일 해봅니다!

```jsx
const list = [
    { no: 1, area: "대전", visited: false },
    { no: 2, area: "부산", visited: true },
    { no: 3, area: "목포", visited: false },
    { no: 4, area: "제주도", visited: false },
];
```

![스크린샷 2023-05-03 오전 1.10.01.png](%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-05-03_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_1.10.01.png)

<aside>
🧐 key props
위의 예제를 풀이하다 보면 리스트 아이템에 key 값이 필요하다는 것을 알 수 있습니다.
key props을 사용하면 리스트에 변화가 발생했을 때 React가 엘리먼트의 변경사항을 빠르게 감지하고, 렌더링을 최적화할 수 있습니다. 보통 배열을 순회하면서 각각의 항목을 <li> 엘리먼트로 렌더링할 때, 각 항목에 key prop을 제공합니다. key prop을 제공하지 않으면 React가 렌더링을 최적화하지 못하고, 업데이트 성능이 저하될 수 있습니다.
참고: [https://ko.legacy.reactjs.org/docs/reconciliation.html#recursing-on-children](https://ko.legacy.reactjs.org/docs/reconciliation.html#recursing-on-children)

</aside>