# 10. 조건부 렌더링

# 1. 조건에 따라 다른 페이지 렌더링

지난 시간에는 컴포넌트를 리스트로 만들고 렌더링했습니다. 만약 이름이 없다면 "이름이 입력되지 않았다"고 알려주는 컴포넌트를 렌더링 하고 싶다면 어떻게 해야 할까요?

React에서는 조건에 따라서 렌더링을 할 수 있습니다. 동작은 JS에서의 조건 처리와 같이 동작합니다. if문을 이용해서 간단하게 사용해 볼 수 있습니다.

아래 분기에서 NoName이 나오게 해보세요.

```jsx
function App() {
    return (
        <Hello name='licat'/>
    );
}

function Hello({name}){
    if (name) {
        return (
            <div>
                <h1>{name}</h1>
            </div>
        )
    }
    return <NoName/>
}

function NoName(){
    return(
        <div>
            <h1>이름을 입력하지 않았습니다.</h1>
        </div>
    )
}

export default App;
```

App.js

다른 예제로 실습해 보도록 하겠습니다. 긴 코드가 아니니 직접 타이핑 해보시기 바랍니다. 조건에 따른 컴포넌트의 랜더링이 좀 더 분명하게 표현되어 있습니다.

```jsx
import './App.css';

function App() {
  return (
    <Hello/>
  );
}

function Hello(props) {
	const name = props.name;
  if(name){
    return <One name={name}/>
  } else {
    return <Two/>
  }
}

function One(props){
  return (
    <div>
      <h1>{props.name}</h1>
    </div>
  )
}

function Two(){
  return (
    <div>
      <h1>name이 입력된 것이 없습니다.</h1>
    </div>
  )
}

export default App;
```

# 2. 간단한 예제 코드

아래 코드도 복사 붙여넣기 대신 직접 코드를 작성해보시길 권합니다. props를 이용하여 아래와같은 형식으로 작성할 수 있습니다.

- 클릭할 때마다 빨간색으로 표시
- 클릭할 때마다 다른 페이지로 이동

![Untitled](Untitled%2020.png)

```jsx
import React, { useState } from "react";
import Detail from "./Components/Detail";
import Question from "./Components/Question";
import Review from "./Components/Review";

const ContentsContainer = ({ listName }) => {
  if (listName === "detail") {
    return <Detail />;
  } else if (listName === "qa") {
    return <Question />;
  } else if (listName === "review") {
    return <Review />;
  }
};

function NavBar() {
  const [listName, setListName] = useState("detail");
  const checkId = (e) => {
    setListName(e.target.id);
  };

  return (
    <>
      <nav>
        <ul>
          <li
            id="detail"
            style={
              listName === "detail" ? { color: "red" } : { color: "black" }
            }
            onClick={checkId}
          >
            상세정보
          </li>
          <li
            id="qa"
            onClick={checkId}
            style={listName === "qa" ? { color: "red" } : { color: "black" }}
          >
            Q&A
          </li>
          <li
            id="review"
            onClick={checkId}
            style={
              listName === "review" ? { color: "red" } : { color: "black" }
            }
          >
            Review
          </li>
        </ul>
      </nav>
      <ContentsContainer listName={listName} />
    </>
  );
}

export default NavBar;
```

실습한 전체 소스코드입니다.

[src.zip](src%201.zip)

- 하나로 만든 코드
    
    ```python
    import { useState } from "react";
    // App.css
    import "./App.css";
    
    function Detail() {
      return <div>상세정보</div>;
    }
    
    function Question() {
      return <div>Q&A</div>;
    }
    
    function Review() {
      return <div>리뷰</div>;
    }
    
    function ContentsContainer({ listName }) {
      if (listName === "detail") {
        return <Detail />;
      } else if (listName === "qa") {
        return <Question />;
      } else if (listName === "review") {
        return <Review />;
      }
      return null; // 기본값을 반환하거나 에러 처리
    }
    
    function NavBar() {
      const [listName, setListName] = useState("detail");
      const checkId = (e) => {
        setListName(e.target.id);
      };
    
      return (
        <>
          <nav>
            <ul>
              <li
                id="detail"
                className={listName === "detail" ? 'strong' : ''}
                onClick={checkId}
              >
                상세정보
              </li>
              <li
                id="qa"
                onClick={checkId}
                className={listName === "qa" ? 'strong' : ''}
              >
                Q&A
              </li>
              <li
                id="review"
                onClick={checkId}
                className={listName === "review" ? 'strong' : ''}
              >
                Review
              </li>
            </ul>
          </nav>
          <ContentsContainer listName={listName} />
        </>
      );
    }
    
    function App() {
      return (
        <>
          <NavBar />
        </>
      )
    }
    
    export default App
    
    ```
    

## 2.1 나아가기

- 삼항 연산자를 사용하기도 합니다.
- 단락 회로 평가를 사용할 수도 있습니다.
    
    ```jsx
    true && <h1>hello world</h1> -> h1 출력
    false && <h1>hello world</h1> -> false 출력
    true || <h1>hello world</h1> -> true 출력
    false || <h1>hello world</h1> -> h1 출력
    
    // 예시
    newMail.length > 0 && <h1>읽지 않은 메일이 있습니다.</h1> -> h1 출력
    ```
    

# 3. 연습문제

- 접속한 사용자의 권한에 따라 각각 다른 페이지를 랜더링합니다.
    - 권한은 admin, user, guest 입니다.
    - 사용자의 권한 정보는 App.js 에서 useState 로 관리합니다.
- 권한에 따른 페이지 로딩은 별도의 SimpleRouter 컴포넌트가 수행합니다.
    - App.js 에서 관리하는 사용자 권한에 따라 각각 AdminView, GuestView, UserView를 랜더링합니다.

---